<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.77 [en] (X11; U; Linux 2.4.4-4GB i686) [Netscape]">
   <meta name="AUTHOR" content="Cowley Group">
   <meta name="Microsoft Border" content="tb, default">
   <title>Fitting with MFIT and RESCAL</title>
</head>
<body>
&nbsp;
<br>&nbsp;

<center>
<h3>
<i>These help pages were designed at the <a href="http://xray.physics.ox.ac.uk/">Clarendon
Laboratory</a>, <a href="http://www.physics.ox.ac.uk/">Department of Physics</a>,
<a href="http://www.ox.ac.uk/">Oxford University</a>, U.K.</i></h3></center>

<center>
<h3>
<i>by </i>A. Tennant and D. McMorrow.</h3></center>

<h3>
<img SRC="reslogo.gif" height=189 width=226 align=BOTTOM>&nbsp;</h3>

<h2>
Fitting with MFIT and RESCAL for MATLAB.</h2>
<b>RESCAL for MATLAB </b>has been linked in with the <a href="../mfit4/mfit.html">MFIT</a>
environment for <a href="http://www.mathworks.com">MATLAB</a>. This is
an extension of the
<a href="ressim.htm">Monte Carlo simulation</a> method
in <b>RESCAL for MATLAB</b>. When the trix2.m file is loaded into <a href="../mfit4/mfit.html">MFIT</a>
and chosen as the fitting function, the <b>RESCAL for MATLAB</b> <a href="resint.htm">parameter
windows</a> appear. Spectrometer parameters can be chosen from files or
entered interactively. A window is generated for the fitting and dispersion
parameters. The file trixsqw.m, which must be in the MFIT and RESCAL path,
defines the line-shape in the same way as mc_sqw.m for the <a href="ressim.htm">simulation</a>.
At the moment this is defined as a Lorentzian line shape - see <a href="ressim.htm">simulation</a>
for the meaning of parameters. Fitting on some machines can be significantly
speeded up by compiling a C routine for the Monte Carlo convolution with
the dispersion into Matlab. This requires building a MEX-file which consists
of a dispersion and cross-section, portable random number generator, and
gateway routine. Fitting takes a couple of minutes on a DEC 3000 Alpha.
As well as triple-axis fitting, MFIT also provides a number of other fitting
functions such as Gaussians. Used in this way MFIT and <b>RESCAL for MATLAB</b>
provide a comprehensive platform for analysing neutron triple-axis data.&nbsp;
<p><a href="rescal.htm">BACK TO HOME PAGE</a>
<address>
(c) A. Tennant D. McMorrow November 29 1995&nbsp;</address>

<br>&nbsp;</td>

<center>
<br><img SRC="line6.gif" height=21 width=623></center>

<center>
<address>
<b><font color="#804000">These pages&nbsp; were last updated on January
30, 1999</font><font color="#800000">&nbsp;</font></b></address></center>

<center>
<address>
<b><font color="#800000">[mirrored to ILL March 25th, 2002]</font></b></address></center>
&nbsp;

</body>
</html>
